(()=>{"use strict";function e(e,r){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,r){if(e){if("string"==typeof e)return t(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){o&&(e=o);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,a=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){a=!0,s=e},f:function(){try{l||null==o.return||o.return()}finally{if(a)throw s}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function r(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",o=document.querySelectorAll(t);function i(e){var t=e.keyCode,o=r,i=o.replace(/\D/g,""),n=this.value.replace(/\D/g,""),s=0,l=o.replace(/[_\d]/g,(function(e){return s<n.length?n.charAt(s++)||i.charAt(s):e}));-1!=(s=l.indexOf("_"))&&(l=l.slice(0,s));var a=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(a=new RegExp("^"+a+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=l),"blur"==e.type&&this.value.length<5&&(this.value="")}var n,s=e(o);try{for(s.s();!(n=s.n()).done;){var l=n.value;l.addEventListener("input",i),l.addEventListener("focus",i),l.addEventListener("blur",i)}}catch(e){s.e(e)}finally{s.f()}}r("селектор элементов","маска, если маску не передать то будет работать стандартная +7 (___) ___-__-__");const o=r,i=function(e,t,r){var o;r&&(o=document.querySelector(r)),".consult"===t&&document.querySelectorAll(".button").forEach((function(e){"Проконсультироваться"===e.textContent&&e.classList.add("consult")}));var i=document.querySelector(".portfolio-slider-wrap").querySelectorAll(".item-hover"),n=function(e,t){var r=e.getBoundingClientRect().top;return t.y===r||t.y>r&&t.y<r+e.clientHeight},s=function(e,t){var r=e.getBoundingClientRect().left;return t.x===r||t.x>r&&t.x<r+e.clientWidth},l=document.querySelector(".slider-arrow-tablet-mobile_left svg"),a=document.querySelector(".slider-arrow-tablet-mobile_right svg");".portfolio-slider__slide-frame"===t&&window.innerWidth<900&&i.forEach((function(e){e.style.visibility="hidden",e.style.opacity=0}));var c=document.querySelector(e),d=c.querySelector(".close");document.addEventListener("click",(function(e){var r,i=e.target;if(".portfolio-slider__slide-frame"===t&&window.innerWidth<900){var u=n(l,e)&&s(l,e),p=n(a,e)&&s(a,e);r=i.closest(t)&&!u&&!p}else r=i.closest(t);r?(c.style.visibility="visible",o&&(o.style.display="block")):i===d?(c.style.visibility="hidden",o&&(o.style.display="none")):window.innerWidth<575&&i.classList.contains("close")&&(c.style.visibility="hidden")}))};function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(t){var r=t.slides,o=t.wrapToClick,i=t.arrowRight,n=t.arrowLeft,s=t.currentSlide,l=void 0===s?0:s,a=t.slidesOnPage,c=void 0===a?1:a,d=t.classToChange,u=t.classAction,p=t.breakpoint,h=void 0===p?5e3:p,f=t.breakpoint2,m=void 0===f?0:f,v=t.counterCurrent,g=t.counterTotal,y=t.centralClass,w=t.arrowProblem,_=void 0!==w&&w,b=t.infinity,L=void 0===b||b,S=t.alt,C=t.id,k=t.name;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.slides=document.querySelectorAll(r),this.wrapToClick=document.querySelector(o),this.wrapToClickSelector=o,this.arrowRight=document.querySelector(i),this.arrowRightSelector=i,this.arrowLeft=document.querySelector(n),this.arrowLeftSelector=n,this.currentSlide=l,this.slidesOnPage=c,this.classToChange=d,this.classAction=u,this.breakpoint=h,this.breakpoint2=m,this.counterCurrent=document.querySelector(v),this.counterTotal=document.querySelector(g),this.centralClass=y,this.arrowProblem=_,this.infinity=L,this.alt=S,this.id=C,this.name=k}var t,r;return t=e,(r=[{key:"init",value:function(){var e=this;if(".formula"===this.wrapToClickSelector){var t=document.querySelector(".formula-slider");t.style.display="flex",t.style.marginTop="0",this.arrowLeft.style.top="66%",this.arrowRight.style.top="66%";var r=this.slides[this.slides.length-1].cloneNode(!0);t.prepend(r),this.slides[this.slides.length-1].remove(),this.slides=document.querySelectorAll(".formula-slider__slide")}".popup-portfolio"===this.wrapToClickSelector&&"visible"!==!this.wrapToClick.style.visibility||document.addEventListener("click",(function(){"visible"===document.querySelector(".popup-portfolio").style.visibility&&e.main()})),this.breakpoint||this.breakpoint2?window.addEventListener("resize",(function(){e.main()})):this.main(),this.main()}},{key:"getYMatch",value:function(e,t){var r=e.getBoundingClientRect().top;return t.y===r||t.y>r&&t.y<r+e.clientHeight}},{key:"getXMatch",value:function(e,t){var r=e.getBoundingClientRect().left;return t.x===r||t.x>r&&t.x<r+e.clientWidth}},{key:"main",value:function(){var e,t,r,o=this,i=this.currentSlide;this.centralClass&&this.slides[1].classList.add(this.centralClass),window.innerWidth<this.breakpoint&&window.innerWidth>this.breakpoint2&&("remove"===this.classAction&&this.slides.forEach((function(e,t){t>o.slidesOnPage-1&&e.classList.add(o.classToChange)})),this.alt&&this.id&&this.slides.forEach((function(e){e.classList.add("repair-hidden"),e.querySelector("img").alt===o.alt?(e.classList.remove("repair-hidden"),e.classList.add("".concat(o.id)),o.slides=document.querySelectorAll(".".concat(o.id)),o.counterTotal.textContent=o.slides.length):e.classList.add("repair-hidden")})),this.counterTotal&&(this.counterTotal.textContent=this.slides.length,this.counterCurrent.textContent=1),this.slidesOnPage>1&&(this.slides.forEach((function(e,t){e.classList.remove(o.classToChange),t>o.slidesOnPage-1&&e.classList.add(o.classToChange)})),i=this.slidesOnPage-1),this.wrapToClick.addEventListener("click",(function(n){var s=n.target;if(o.arrowProblem?(t=o.getYMatch(o.arrowLeft,n)&&o.getXMatch(o.arrowLeft,n),r=o.getYMatch(o.arrowRight,n)&&o.getXMatch(o.arrowRight,n),e=!t&&!r):e=o.arrowLeft?!s.closest(o.arrowRightSelector)&&!s.closest(o.arrowLeftSelector):!s.closest(o.arrowRightSelector),!e){if(o.prevSlide(o.slides,i,o.classToChange,o.slidesOnPage,o.classAction),o.arrowRight&&o.arrowLeft?o.arrowProblem?t?i--:r&&i++:s.closest(o.arrowLeftSelector)?i--:s.closest(o.arrowRightSelector)&&i++:i++,i>=o.slides.length){if(!o.infinity)return o.arrowRight.classList.add(o.classToChange),o.slides[o.slides.length-1].classList.remove(o.classToChange),void(o.slidesOnPage>1&&o.slides[o.slides.length-o.slidesOnPage].classList.remove(o.classToChange));i=o.currentSlide,o.slidesOnPage>1&&(i=o.slidesOnPage-1,o.slides.forEach((function(e,t){e.classList.remove(o.classToChange),t>o.slidesOnPage-1&&e.classList.add(o.classToChange)})))}o.arrowRight&&o.arrowLeft&&(o.slidesOnPage>1?i<o.slidesOnPage-1&&(i=o.slides.length-(o.slidesOnPage-1),console.log("currentSlide: ",i),o.slides.forEach((function(e,t){e.classList.remove(o.classToChange),e.classList.remove(o.centralClass),t<i-1&&e.classList.add(o.classToChange)})),o.slides[o.slides.length-1].classList.add(o.centralClass)):i<0&&(i=o.slides.length-1)),o.counterCurrent&&(o.counterCurrent.textContent=i+1),o.nextSlide(o.slides,i,o.classToChange,o.classAction)}})))}},{key:"prevSlide",value:function(e,t,r,o,i){"remove"===i?1===o?e[t].classList.add(r):o>1&&e[t-(this.slidesOnPage-1)]&&e[t-(this.slidesOnPage-1)].classList.add(r):1===o&&e[t].classList.remove(r)}},{key:"nextSlide",value:function(e,t,r,o){"remove"===o?(this.centralClass&&(e[t-2].classList.remove(this.centralClass),e[t-1].classList.add(this.centralClass)),e[t].classList.remove(r)):e[t].classList.add(r)}}])&&n(t.prototype,r),e}();function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t){var r=t.slides,o=t.container,i=t.arrowRight,n=t.arrowLeft,s=t.currentSlide,l=void 0===s?0:s,a=t.slidesOnPage,c=void 0===a?1:a,d=t.classToChange,u=t.classAction,p=t.breakpoint,h=void 0===p?5e3:p,f=t.breakpoint2,m=void 0===f?0:f,v=t.counterCurrent,g=t.counterTotal,y=t.centralClass,w=t.click,_=void 0===w?0:w,b=t.infinity,L=void 0===b||b,S=t.name;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.originalItemsOrder=document.querySelectorAll(r),this.slidesSelector=r,this.container=document.querySelector(o),this.containerSelector=o,this.arrowRight=document.querySelector(i),this.arrowRightSelector=i,this.arrowLeft=document.querySelector(n),this.arrowLeftSelector=n,this.currentSlide=l,this.slidesOnPage=c,this.classToChange=d,this.classAction=u,this.breakpoint=h,this.breakpoint2=m,this.counterCurrent=document.querySelector(v),this.counterTotal=document.querySelector(g),this.centralClass=y,this.click=_,this.infinity=L,this.name=S}var t,r;return t=e,(r=[{key:"init",value:function(){if("formula"===this.name){var e=document.querySelector(".formula-slider");e.style.display="flex",e.style.marginTop="0",this.arrowLeft.style.top="66%",this.arrowRight.style.top="66%";var t=this.originalItemsOrder[this.originalItemsOrder.length-1].cloneNode(!0);e.prepend(t),this.originalItemsOrder[this.originalItemsOrder.length-1].remove(),this.originalItemsOrder=document.querySelectorAll(".formula-slider__slide")}"portfolio-problem-slider"===this.name&&(this.arrowRight.style.top="300px",this.arrowLeft.style.top="300px",document.querySelector(".popup-dialog.popup-dialog-portfolio .slider-counter").style.top="550px"),this.main()}},{key:"main",value:function(){var e=this;this.counterCurrent&&(this.counterTotal.textContent=this.originalItemsOrder.length);var t=document.querySelectorAll(this.slidesSelector);this.arrowLeft.addEventListener("click",(function(r){e.infinity||(e.click+=1),e.displaySlide((t.length+e.currentSlide-1)%t.length)})),this.arrowRight.addEventListener("click",(function(r){return e.displaySlide((e.currentSlide+1)%t.length)})),this.displaySlide(this.currentSlide)}},{key:"displaySlide",value:function(e){for(var t=this,r=document.querySelector(this.containerSelector),o=document.querySelectorAll(this.slidesSelector),i=[],n=0;n<o.length;++n)i.push(n);for(var s=0;s<o.length;++s)i.push(s);for(var l=[],a=e;a<e+this.slidesOnPage;++a)l.push(i[a]);o.forEach((function(e){e.classList.add(t.classToChange),e.remove()})),l.forEach((function(e,o){var i=t.originalItemsOrder[e];if("formula"===t.name){var n=i.querySelector(".formula-item-popup");n.classList.remove("slide-opened"),n.classList.remove("formula-popup-opened"),i.classList.remove("active"),i.classList.remove("opened")}if(i.classList.remove(t.classToChange),r.append(i),1===o&&"formula"===t.name){var s=i.querySelector(".formula-item-popup");s.classList.add("slide-opened"),s.classList.add("formula-popup-opened"),i.classList.add("active"),i.classList.add("opened")}}));for(var c=0;c<this.originalItemsOrder.length;++c)this.counterCurrent&&(this.counterCurrent.textContent=e+1),this.infinity||(3===e&&4===c?(this.arrowRight.style.display="none",this.arrowLeft.style.display=""):this.click>0&&0===e&&4===c&&(this.arrowLeft.style.display="none",this.arrowRight.style.display="")),c>=e&&c<e+this.slidesOnPage||r.append(this.originalItemsOrder[c]);this.currentSlide=e}}])&&l(t.prototype,r),e}();var c,d,u,p,h,f,m,v,g,y,w,_,b,L,S,C,k,T,q,E,A;E=document.querySelector(".header-contacts__phone-number-accord a"),A=document.querySelector(".header-contacts__arrow"),document.addEventListener("click",(function(e){e.target.closest(".header-contacts__arrow")?(E.classList.toggle("opened"),A.classList.toggle("opened")):E.classList.contains("opened")&&(E.classList.remove("opened"),A.classList.remove("opened"))})),k=document.querySelector(".menu__icon"),T=document.querySelector(".popup-menu"),q=document.querySelector(".popup-dialog-menu"),window.addEventListener("resize",(function(){window.innerWidth<576?(q.style.webkitTransform="translate3d(0, -841px, 0)",q.style.transform="translate3d(0, -841px, 0)"):(q.style.webkitTransform="translate3d(645px, 0, 0)",q.style.transform="translate3d(645px, 0, 0)")})),document.addEventListener("click",(function(e){var t=e.target;t.closest(".menu__icon")?(k.classList.add("opened"),T.style.visibility="visible",q.style.webkitTransform="translate3d(0, 0, 0)",q.style.transform="translate3d(0, 0, 0)"):k.classList.contains("opened")&&(t.closest(".close-menu")||t===T||t.matches(".menu-link"))&&(k.classList.remove("opened"),T.style.visibility="hidden",window.innerWidth<576?(q.style.webkitTransform="translate3d(0, -841px, 0)",q.style.transform="translate3d(0, -841px, 0)"):(q.style.webkitTransform="translate3d(645px, 0, 0)",q.style.transform="translate3d(645px, 0, 0)"))})),S=/#(?=\D+)/g,C=[].slice.call(document.querySelectorAll('a[href*="#"]')),document.addEventListener("click",(function(e){var t=e.target;C.forEach((function(r){if(null!==r.href.match(S)&&t===r){e.preventDefault();var o=document.querySelector(r.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset;if(0===o)var i=window.setInterval((function(){var e=window.pageYOffset;e>0?window.scrollTo(0,e-300):window.clearInterval(i)}),16);else var n=setInterval((function(){var e=o/20;e>window.pageYOffset-o&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,e):(window.scrollTo(0,o),clearInterval(n))}),25)}}))})),L=document.querySelectorAll('[name="phone"]'),document.addEventListener("input",(function(e){var t=e.target;L.forEach((function(e){t===e&&(e.value=e.value.replace(/\D/g,""))}))})),o('[name="phone"]'),i(".popup-repair-types",".link-list"),i(".popup-privacy",".checkbox__descr span"),i(".popup-transparency",".transparency-item__img"),i(".popup-consultation",".consult"),i(".popup-portfolio",".portfolio-slider__slide-frame",".popup-portfolio-text"),i(".popup-transparency",".transparency-item__img"),b=function(e,t,r){var o,i,n,s=e.closest(r);if(s&&!e.closest(".formula-item-popup")){var l=e.getBoundingClientRect().top,a=e.textContent.trim().match(/\d+/g),c=String(a).slice(-1)-1;".formula-slider__slide"===r?(n=document.querySelectorAll(".formula-slider__slide"),o=document.querySelectorAll("".concat(r," .formula-item__icon")),i=document.querySelector("".concat(r," .formula-item-popup-").concat(a))):i=document.querySelector(".formula-item-popup-".concat(a)),l<i.clientHeight?(i.style.bottom="-".concat(i.clientHeight+10,"px"),i.classList.add("down")):(i.style.bottom="90px",i.classList.remove("down")),"toggle"===t&&(i.classList.toggle("formula-popup-opened"),o&&(s.classList.toggle("opened"),o[c].classList.toggle("opened"),n[c].classList.toggle("slide-opened"))),"remove"===t&&(i.classList.remove("formula-popup-opened"),s.classList.remove("opened"))}},window.innerWidth>1200?(document.addEventListener("mouseover",(function(e){var t=e.target;b(t,"toggle",".formula-item__icon")})),document.addEventListener("mouseout",(function(e){var t=e.target;b(t,"remove",".formula-item__icon")}))):document.addEventListener("click",(function(e){var t=e.target;b(t,"toggle",".formula-slider__slide")})),(_=function(e){var t=document.getElementById(e),r=t.querySelector(".checkbox__input"),o=t.querySelector(".checkbox__label"),i=document.querySelector(".popup-error"),n=document.querySelector(".popup-thank"),s=document.createElement("div");t.append(s);var l=t.querySelectorAll("input");document.addEventListener("click",(function(e){var t=e.target,r=n.querySelector(".close"),o=i.querySelector(".close");t!==r&&t!==o||(n.style.visibility="hidden",i.style.visibility="hidden")}));var a=function(){o.style.borderColor="#322823",n.style.visibility="hidden",i.style.visibility="hidden"},c=function(e){s.className="",i.style.visibility="visible",console.error(e),setTimeout(a,5e3)};t.addEventListener("submit",(function(e){if(e.preventDefault(),r.checked){o.style.borderColor="#322823",s.className="loader";var i=new FormData(t),d={};i.forEach((function(e,t){d[t]=e})),function(e){return fetch("./server.php",{method:"POST",header:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(d).then((function(e){if(200!==e.status)throw new Error("network status is not 200");s.className="",n.style.visibility="visible",l.forEach((function(e){e.value=""})),r.checked=!1,setTimeout(a,5e3)})).catch(c)}else o.style.borderColor="red",setTimeout((function(){o.style.borderColor="#322823"}),3e3)}))})("feedback1"),_("feedback2"),_("feedback3"),_("feedback4"),_("feedback5"),_("feedback6"),function(){new a({slides:".formula-item.formula-slider__slide",container:".formula-slider",arrowRight:"#formula-arrow_right",arrowLeft:"#formula-arrow_left",slidesOnPage:3,classToChange:"hidden",classAction:"remove",breakpoint:1200,centralClass:"active",name:"formula"}).init(),new s({slides:".repair-types-slider__slide",wrapToClick:"#repair-types",arrowRight:"#repair-types-arrow_right",arrowLeft:"#repair-types-arrow_left",classToChange:"repair-hidden",classAction:"remove",counterCurrent:".slider-counter-content__current",counterTotal:".slider-counter-content__total",alt:"electro",id:"electro-slide"}).init();var e=document.getElementById("repair-types"),t=document.querySelector(".nav-list-repair");e.addEventListener("click",(function(e){e.preventDefault();var r=e.target;if(document.querySelector("#nav-arrow-repair-right_base"))if(r.closest("#nav-arrow-repair-right_base")){var o=t.children[0],i=o.cloneNode(!0);t.append(i),o.remove()}else if(r.closest("#nav-arrow-repair-left_base")){var n=t.children[t.children.length-1],l=n.cloneNode(!0);t.prepend(l),n.remove()}if(r.closest(".repair-types-nav__item")){document.querySelectorAll(".repair-types-nav__item").forEach((function(e){e.classList.remove("active")})),r.classList.add("active");var a=r.dataset.repair;new s({slides:".repair-types-slider__slide",wrapToClick:"#repair-types",arrowRight:"#repair-types-arrow_right",arrowLeft:"#repair-types-arrow_left",classToChange:"repair-hidden",classAction:"remove",counterCurrent:".slider-counter-content__current",counterTotal:".slider-counter-content__total",alt:"".concat(a),id:"".concat(a,"-slide")}).init()}})),new s({slides:".portfolio-slider-mobile .portfolio-slider__slide-frame",wrapToClick:".portfolio-slider-wrap",arrowRight:".slider-arrow-tablet-mobile_right svg",arrowLeft:".slider-arrow-tablet-mobile_left svg",classToChange:"portfolio-hidden",classAction:"remove",breakpoint:575,counterCurrent:".portfolio .slider-counter-content__current",counterTotal:".portfolio .slider-counter-content__total",arrowProblem:!0}).init(),new a({slides:".portfolio-slider.mobile-hide .portfolio-slider__slide",container:".portfolio-slider.mobile-hide",arrowRight:"#portfolio-arrow_right",arrowLeft:"#portfolio-arrow_left",slidesOnPage:3,classToChange:"portfolio-hidden",classAction:"remove",breakpoint2:1024,infinity:!1,name:"portfolio-desctop-slider"}).init();var r=new a({slides:".popup-portfolio-slider__slide",container:".popup-portfolio-slider-wrap",arrowRight:".popup-dialog.popup-dialog-portfolio #popup_portfolio_right",arrowLeft:".popup-dialog.popup-dialog-portfolio #popup_portfolio_left",classToChange:"portfolio-inner-hidden",classAction:"remove",breakpoint2:1024,counterCurrent:".popup-dialog.popup-dialog-portfolio .slider-counter .slider-counter-content__current",counterTotal:".popup-dialog.popup-dialog-portfolio .slider-counter .slider-counter-content__total",name:"portfolio-problem-slider"});window.innerWidth>1024?r.init():window.addEventListener("resize",(function(e){window.innerWidth>1024&&r.init()})),new s({slides:".popup-portfolio-slider__slide",wrapToClick:".popup-portfolio",arrowRight:"#popup_portfolio_right svg",arrowLeft:"#popup_portfolio_left svg",classToChange:"portfolio-hidden",classAction:"remove",breakpoint:1024,breakpoint2:575,counterCurrent:"#popup-portfolio-counter .slider-counter-content__current",counterTotal:"#popup-portfolio-counter .slider-counter-content__total"}).init(),new s({slides:".popup-portfolio-slider__slide",wrapToClick:".popup-portfolio",arrowRight:"#popup_portfolio_right svg",arrowLeft:"#popup_portfolio_left svg",classToChange:"portfolio-hidden",classAction:"remove",breakpoint:575,counterCurrent:"#popup-portfolio-counter .slider-counter-content__current",counterTotal:"#popup-portfolio-counter .slider-counter-content__total"}).init(),new s({slides:".transparency-item",wrapToClick:".transparency-slider-wrap",arrowRight:"#transparency-arrow_right",arrowLeft:"#transparency-arrow_left",classToChange:"transparency-hidden",classAction:"remove",breakpoint:1090}).init(),new s({slides:".popup-transparency-slider__slide",wrapToClick:".popup-transparency",arrowRight:"#transparency_right svg",arrowLeft:"#transparency_left svg",classToChange:"transparency-hidden",classAction:"remove",counterCurrent:".popup-transparency-slider-wrap .slider-counter-content__current",counterTotal:".popup-transparency-slider-wrap .slider-counter-content__total"}).init(),new s({slides:".reviews-slider__slide",wrapToClick:"#reviews",arrowRight:"#reviews-arrow_right",arrowLeft:"#reviews-arrow_left",classToChange:"transparency-hidden",classAction:"remove"}).init()}(),y=document.querySelector(".accordion"),(w=y.querySelectorAll(".title_block"))[0].classList.add("msg-active"),y.addEventListener("click",(function(e){var t=e.target;w.forEach((function(e){e.classList.remove("msg-active"),t===e&&e.classList.add("msg-active")}))})),p=document.querySelector(".popup-repair-types"),h=p.querySelector(".popup-repair-types-content__head-title"),f=p.querySelectorAll(".repair-types-name"),m=p.querySelectorAll(".repair-types-value.units"),v=p.querySelectorAll(".repair-types-value.cost"),g=0,document.addEventListener("click",(function(e){var t,r=e.target;if(document.querySelector("#nav-arrow-popup-repair_left")){var o=document.querySelector(".nav-list-popup-repair");if(r.closest("#nav-arrow-popup-repair_right")){var i=o.children[0],n=i.cloneNode(!0);o.append(n),i.remove()}else if(r.closest("#nav-arrow-popup-repair_left")){var s=o.children[o.children.length-1],l=s.cloneNode(!0);o.prepend(l),s.remove()}}"visible"===p.style.visibility&&(t=h.textContent,r.closest(".popup-repair-types-nav__item")&&(t=function(e){return p.querySelectorAll(".popup-repair-types-nav__item").forEach((function(t){t.classList.remove("active"),e===t&&(t.classList.add("active"),h.textContent=t.textContent)})),h.textContent}(r))),fetch("../crm-backend/db.json").then((function(e){if(200!==e.status)throw new Error("network status is not 200");return e.json()})).then((function(e){c=new Map,d=new Map,u=new Map,e.forEach((function(e,r){e.type===t&&(g++,c.set(g,e.name),d.set(g,e.units),u.set(g,e.cost))})),g=0})).then((function(){f.forEach((function(e,t){t+1<c.size?(e.textContent="",e.parentNode.style.display=""):e.parentNode.style.display="none"})),c.forEach((function(e,t){f[t-1].textContent=e})),d.forEach((function(e,t){var r=String(e.match(/\D+/g)),o=String(e.match(/\d+/g));"null"===o&&(o=""),m[t-1].innerHTML="".concat(r,"<sup>").concat(o,"</sup>")})),u.forEach((function(e,t){v[t-1].textContent="".concat(e," руб.")}))})).catch((function(e){console.error(e)}))}))})();